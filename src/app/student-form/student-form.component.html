<div class="container py-5" id="printForm">

    <!-- Et du coup, tous les simples ngModel parce qu'on n'a pas besoin d'autre chose que ngModel pour enregistrer un formulaire en bonne et due forme, RIEN D'AUTRE vont devoir pour pouvoir être récupérés en base en l'état de la saisie être remplacés par du two way binding genre : [(ngModel)]="socialData.permisB"
 
Tests OK. Sur une  partie. A finir. 
  -->

    <!-- {{studentData | json}} -->

    <h3 class="text-capitalize">Pré-inscription Formation {{userData.firstName}} {{userData.lastName}}</h3>
    <div class="alert alert-light p-4 alert-dismissible mb-4 fade show pe-5" *ngIf="!isReadOnly">
        <!-- <button type="button" class="btn-close btn-close-light" data-bs-dismiss="alert"></button> -->
        <button aria-label="Fermer le message be-on-top" type="button" class="btn-close btn-close mt-2"
            data-bs-dismiss="alert"></button>
        <!-- Vous pourrez aussi dès maintenant finaliser votre inscription administrative -->
        Pour faciliter votre inscription et le financement de votre formation, <strong>merci de renseigner un maximum
            d'informations</strong>. Tant que vous n'avez pas soumis le formulaire, vous pourrez interrompre ou modifier
        vos saisies.
    </div>

    <ng-container *ngIf="isReadOnly">
        <p> <span class="text-decoration-underline"> Préférences du candidat</span> <br>
            Formation : {{ getDenomination(socialData.priorTrade) | async }} <br>
            Centre : {{ getCenterName(socialData.center) | async }}</p>
    </ng-container>


    <ng-container *ngIf="!isReadOnly">
        <!-- début de partie concernant les  préférences à masquer pour referent -->
        <p *ngIf="tradesEvaluated.length>1 && !socialData.priorTrade">Vous avez terminé plusieurs questionnaires
            métiers.
            Merci d'indiquer vos
            préférences.</p>
        <p *ngIf="tradesEvaluated.length>1 && socialData.priorTrade" class="fw-bold">Vos préférences enregistrées.</p>
        <p *ngIf="tradesEvaluated.length===1 && !socialData.center" class="fw-bold">Merci d'indiquer vos préférences.</p>
        <p *ngIf="tradesEvaluated.length===1 && socialData.center">Vos préférences enregistrées.</p>
        <!-- dataFiltered {{dataFiltered | json}}  !!!!!!!!!!!!!!-->
        <form #target="ngForm" (ngSubmit)="onSubmitChoice(target)" class="mt-3"
            [ngClass]="{'read-only-form': isReadOnly}">
            <div class="row">

                <div class="col-sm-5 mb-1" *ngIf="tradesEvaluated.length!==1">
                    <!-- Premier select -->
                    <!-- {{priorTrade| json}} -->
                    <select class="form-select" name="priorTrade" [(ngModel)]="priorTrade" required #sigle="ngModel"
                        (change)="checkIfSelected(target.value.priorTrade)">
                        <option value="">Sélectionnez la formation</option>
                        <!-- Si un choix déjà enregistré, afficher le choix en haut -->
                        <option *ngIf="priorTrade!==''" [value]="priorTrade" selected>
                            <!-- {{ priorTrade }} -->
                            {{ getDenomination(priorTrade) | async }}
                        </option>

                        <option *ngFor="let element of tradesEvaluated" [value]="element">
                            <!-- {{element }} -->
                            {{ getDenomination(element) | async }}
                        </option>
                    </select>

                    <!-- {{sigle.value===''}} -->
                    <!-- <div *ngIf="sigle.value===''" class="invalid">
                    Veuillez préciser la formation souhaitée.
                  </div> -->
                    <div *ngIf="sigle.value!==''" class="valid mt-2">
                        Choix formation enregistré.
                    </div>
                </div>
                <!-- {{tradesEvaluated.length}} -->
                <!-- <div class="mb-1" [ngClass]="{'col-sm-6':tradesEvaluated.length!==1}"> -->
                <div class="mb-1" [ngClass]="{'col-sm-5 mt-0':tradesEvaluated.length!==1}">

                    <!-- Deuxième select: lié aux données filtrées -->
                    <ng-container *ngIf="dataFiltered && dataFiltered.length > 0">

                        <!-- Sélecteur pour le cas où aucun centre n'est sélectionné -->
                        <select *ngIf="!socialData.center" class="form-select" aria-label="Sélectionnez un centre"
                            name="center" id="centerNochoice" ngModel required #center="ngModel"
                            (change)="onCenterSelected($event)">
                            <option value="">Sélectionnez un centre</option>
                            <!-- <option *ngFor="let center of dataFiltered" [value]="center.cp + '|' + center.name"> -->
                            <!-- n'est plus nécessaire si on récupère center.id en base -->
                            <option *ngFor="let center of dataFiltered" [value]="center.id">
                                <!-- {{ center.cp }} - {{ center.name }} -->
                                {{ center.cp }}-{{ center.city }}
                                <span class="main-city" *ngIf="center.mainCity && center.mainCity !== center.city">
                                    ({{ center.mainCity }})
                                </span>
                                <!-- {{ center.cp }} - {{ getResponsiveText(center.city, center.mainCity)}} -->
                            </option>

                        </select>


                        <!-- Sélecteur pour le cas où un centre a déjà été sélectionné -->
                        <select *ngIf="socialData.center" class="form-select" aria-label="Selected center" name="center"
                            id="center" [(ngModel)]="socialData.center" required #center="ngModel"
                            (change)="onCenterSelected($event)">

                            <!-- Option par défaut si aucun centre n'est sélectionné -->
                            <option value="" *ngIf="!socialData.center">Sélectionnez un centre</option>

                            <!-- Options pour tous les centres filtrés -->
                            <!-- <option *ngFor="let center of dataFiltered" [value]="center.cp + '|' + center.name"> -->
                            <!-- n'est plus nécessaire si on récupère center.id en base -->
                            <option *ngFor="let center of dataFiltered" [value]="center.id">
                                {{ center.cp }} - {{ center.city }}
                                <span class="main-city" *ngIf="center.mainCity && center.mainCity !== center.city">
                                    ({{ center.mainCity }})
                                </span>

                            </option>





                            <!-- Si un centre est déjà sélectionné, afficher le centre sélectionné en haut -->
                            <option *ngIf="socialData.center" [value]="socialData.center" selected>
                                <!-- {{ centerChoiced?.cp }} - {{ centerChoiced?.name }} -->
                                <!-- {{ centerChoiced?.cp }} - {{ centerChoiced?.city }} -->
                                {{ centerChoiced?.city }}
                                <span class="main-city"
                                    *ngIf="centerChoiced?.mainCity && centerChoiced?.mainCity !== centerChoiced?.city">
                                    (Proche {{ centerChoiced?.mainCity }})
                                </span>
                            </option>
                        </select>

                        <div *ngIf="target.value.center!==''" class="valid mt-2">
                            Choix du centre enregistré.
                        </div>


                    </ng-container>


                    <!-- Affichage du spinner pendant le chargement -->
                    <div *ngIf="isLoading" class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Chargement...</span> <!-- Accessible -->
                    </div>

                </div>

            </div>


        </form>
        <!-- fin de partie concernant les préférences à masquer pour referent -->
    </ng-container>




    <button (click)="print()" id="print" *ngIf="isReadOnly" class="btn btn-primary">Imprimer</button>

    <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)" class="mt-3" [ngClass]="{'read-only-form': isReadOnly}">     


        <div id="accordion" class="w-100">

            <div class="card">
                <div class="card-header bg-primary">
                    <a class="btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseOne">
                        <span>Votre identité</span><i class="bi bi-person-vcard-fill text-light fs-4"></i>
                    </a>
                </div>
                <!-- {{userData.id}} -->
                <div id="collapseOne" class="collapse show" data-bs-parent="#accordion">
                    <div class="card-body">
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Nom : {{lastName}}
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="text" name="lastName" [(ngModel)]="userData.lastName"
                                    disabled class="form-control text-light capitalized">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Prénom : {{firstName}}
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="text" name="firstName" [(ngModel)]="userData.firstName"
                                    disabled class="form-control text-light">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Date de naissance :
                            </label>
                            <div class="col-md-9">
                                <!-- dateOfBirth !!!!!!!!!!!!!!!!!!!!!!!! -->
                                <input appAutoChange type="date" name="dateOfBirth" [(ngModel)]="socialData.dateOfBirth"
                                    class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <!-- {{socialData| json}} -->
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Adresse complète :
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="text" name="address" [(ngModel)]="socialData.address"
                                    required class="form-control" placeholder="(bat, rue, chemin, n°)">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Code Postal :
                            </label>
                            <div class="col-md-9">
                                <!-- <input appAutoChange type="text" name="postalCode" ngModel class="form-control" required  (change)="onInputChange('postalCode', myForm.value.postalCode)"> -->
                                <input appAutoChange type="text" name="postalCode" [(ngModel)]="socialData.postalCode"
                                    class="form-control" required appAutoChange>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Ville :
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="text" name="city" [(ngModel)]="socialData.city" required
                                    class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Téléphone :
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="tel" name="phone" [(ngModel)]="socialData.phone" required
                                    class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-decoration-underline pt-3 pb-2">
                                Mail : {{email}}
                            </label>
                            <div class="col-md-9">
                                <input appAutoChange type="email" name="email" [(ngModel)]="userData.email" disabled
                                    class="form-control text-light">
                            </div>
                        </div>
                        <!-- fin élément -->
                    </div>
                </div>
            </div>


            <div class="card">
                <div class="card-header bg-primary">
                    <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseTwo">
                        <span>Permis de Conduire</span> <i class="bi bi-sign-turn-left-fill text-light fs-4"></i>
                    </a>
                </div>
                <div id="collapseTwo" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <!-- début élément de formulaire -->
                        <div class="form-group row align-items-center">
                            <label class="col-md-5 text-decoration-underline pt-3 pb-2">
                                Permis B :
                            </label>
                            <div class="col-md-7">
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="permisB"
                                        [(ngModel)]="socialData.permisB" value=true>
                                    <label class="form-check-label" for="permisB">oui</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="permisB"
                                        [(ngModel)]="socialData.permisB" value=false>
                                    <label class="form-check-label" for="permis">non</label>
                                </div>
                            </div>

                            <label for="foreignValidBDrivingLicense"
                                class="col-md-5 text-decoration-underline pt-3 pb-2">Pour les
                                publics étrangers, Permis B valide en France :</label>
                            <div class="col-md-7">
                                <div class="form-check form-check-inline">
                                    <input appAutoChange type="radio" name="foreignValidBLicense"
                                        [(ngModel)]="socialData.foreignValidBLicense" value=true
                                        class="form-check-input">
                                    <label for="foreignValidBLicense" class="form-check-label">oui</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input appAutoChange type="radio" name="foreignValidBLicense"
                                        [(ngModel)]="socialData.foreignValidBLicense" value=false
                                        class="form-check-input">
                                    <label for="foreignValidBLicense" class="form-check-label">non</label>
                                </div>
                            </div>

                            <label for="otherDrivingLicense"
                                class="col-md-5 control-label text-decoration-underline pt-3 pb-2">Possédez-vous un
                                autre
                                permis valide ?</label>
                            <div class="col-md-7">
                                <select title="drivingLicense" name="otherDrivingLicense" appAutoChange
                                    [(ngModel)]="socialData.otherDrivingLicense" class="form-control">
                                    <option value="">Choisir une option</option>
                                    <option value="BE">Permis BE</option>
                                    <option value="C">Permis C</option>
                                    <option value="CE">Permis CE</option>
                                    <option value="D">Permis D</option>
                                </select>
                            </div>
                        </div>
                        <!-- fin élément de formulaire -->
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header bg-primary">
                    <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseThree">
                        <span>Nationalité</span> <i class="bi bi-globe-europe-africa text-light fs-4"></i>
                    </a>
                </div>

                <div id="collapseThree" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <!-- début élément de formulaire -->
                        <div class="form-group row">
                            <div class="col-md-4 text-decoration-underline">
                                Vous êtes de nationalité Française :
                            </div>
                            <div class="col-md-8">
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="frenchNationality"
                                        [(ngModel)]="socialData.frenchNationality" value='oui'>
                                    <label class="form-check-label" for="frenchNationality">oui</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="frenchNationality"
                                        [(ngModel)]="socialData.frenchNationality" value='non'>
                                    <label class="form-check-label" for="frenchNationality">non</label>
                                </div>
                            </div>
                        </div>
                        <!-- si nationalité française -->
                        <ng-container *ngIf="myForm.value.frenchNationality=='oui'">
                            <!-- <ng-container *ngIf="myForm.value.frenchNationality"> -->

                            <div class="form-group row">
                                <div for="isValidID" class="pt-2 col-md-4">
                                    Possédez-vous une pièce d'identité à jour ?
                                </div>
                                <div class="col-md-8">
                                    <div class="form-check form-check-inline">
                                        <!-- c'est un boolean !!!! -->
                                        <!-- <input appAutoChange class="form-check-input" type="radio" name="isValidID" value="oui"> -->
                                        <input appAutoChange class="form-check-input" type="radio" name="isValidID"
                                            value='oui' [(ngModel)]="socialData.isValidID">
                                        <label class="form-check-label" for="isValidID">oui</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <!-- <input appAutoChange class="form-check-input" type="radio" name="isValidID" ngModel
                                            value="non"> -->
                                        <input appAutoChange class="form-check-input" type="radio" name="isValidID"
                                            ngModel value="non" [(ngModel)]="socialData.isValidID">
                                        <label class="form-check-label" for="isValidID">non</label>
                                    </div>
                                </div>
                            </div>

                            <div *ngIf="myForm.value.isValidID=='non' && myForm.value.frenchNationality=='oui'">
                                <div class="pt-2 col-md-4">
                                    Votre renouvellement est-il en cours ?
                                </div>
                                <div class="col-md-8">
                                    <div class="form-check form-check-inline">
                                        <!-- c'est un boolean, pas un string ! -->
                                        <!-- <input appAutoChange class="form-check-input" type="radio" name="isRenewalIDinProgress"
                                            id="isRenewalIDinProgress_oui" ngModel value="oui"> -->
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="isRenewalIDinProgress" [(ngModel)]="socialData.isRenewalIDinProgress"
                                            value=true>
                                        <label class="form-check-label" for="isRenewalIDinProgress">oui</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="isRenewalIDinProgress" [(ngModel)]="socialData.isRenewalIDinProgress"
                                            value=false>
                                        <label class="form-check-label" for="isRenewalIDinProgress">non</label>
                                    </div>
                                </div>
                            </div>


                        </ng-container>
                        <!-- fin si française -->

                        <!-- attention à ce qu'il ne se retrouve pas inséré dans une autre boucle !!!  -->
                        <!-- <h1>{{myForm.value.frenchNationality | json}}</h1> -->
                        <div *ngIf="myForm.value.frenchNationality=='non' && myForm.value.frenchNationality!==''">
                            <div class="col-md-4 text-decoration-underline pt-3 pb-2">Vous êtes de nationalité étrangère
                                :</div>
                            <div class="col-md-8">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox" name="longStayVisa"
                                        [(ngModel)]="socialData.longStayVisa" id="longStayVisa">
                                    <label class="form-check-label" for="longStayVisa">Vous avez un visa long séjour ?
                                        Date d'expiration</label>
                                    <input appAutoChange type="date" class="form-control" name="expirDateLongStayVisa"
                                        [(ngModel)]="socialData.expirDateLongStayVisa">
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="longStayVisaResidencePermit" ngModel>
                                    <label class="form-check-label" for="longStayVisaResidencePermit">Vous avez un visa
                                        long séjour
                                        valant titre de séjour ? Date de fin d'expiration</label>
                                    <input appAutoChange type="date" class="form-control"
                                        name="expirDateLongStayVisaResidencePermit"
                                        [(ngModel)]="socialData.expirDateLongStayVisaResidencePermit"
                                        ng-show="longStayVisa">
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox" name="titreSejour"
                                        [(ngModel)]="socialData.residencePermit">
                                    <label class="form-check-label" for="titreSejour">Vous avez un titre de séjour ?
                                        Date de fin
                                        d'expiration</label>
                                    <input appAutoChange type="date" class="form-control"
                                        name="expirDateResidencePermit"
                                        [(ngModel)]="socialData.expirDateResidencePermit">
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="workAuthorization" [(ngModel)]="socialData.workAuthorization">
                                    <label class="form-check-label" for="workAuthorization">Vous avez une autorisation
                                        de travail en France ? Date de fin d'expiration</label>
                                    <input appAutoChange type="date" class="form-control"
                                        name="expirDateWorkAuthorization"
                                        [(ngModel)]="socialData.expirDateWorkAuthorization">
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="visaVacancesTravail" [(ngModel)]="socialData.visaVacancesTravail">
                                    <label class="form-check-label" for="visaVacancesTravail">Vous avez un visa
                                        vacances-travail ?
                                        Date
                                        de fin d'expiration ?</label>
                                    <input appAutoChange type="date" class="form-control"
                                        name="expirationDateVisaVacancesTravail"
                                        [(ngModel)]="socialData.expirationDateVisaVacancesTravail">
                                </div>
                            </div>
                        </div>
                        <!-- fin élément -->
                    </div>
                </div>
            </div>

            <!-- 4 ------>
            <div class="card">
                <div class="card-header bg-primary">
                    <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseFor">
                        <span>Historique emploi</span> <i class="bi bi-journal text-light fs-4"></i>
                    </a>
                </div>

                <div id="collapseFor" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <!-- début éléments de formulaire -->
                        <!-- Historique Emploi (Votre situation) -->
                        <!-- <div class="form-group row">
                            <div class="form-check">
                                <label class="form-check-label text-decoration-underline">Inscrit à Pôle Emploi !!!!!!</label>
                                <input appAutoChange class="form-check-input" type="radio" name="isPoleEmploi"
                                [(ngModel)]="socialData.isPoleEmploi" value=true  >
                                <label class="form-check-label text-decoration-underline">Non</label>
                                <input appAutoChange class="form-check-input" type="radio" name="isPoleEmploi"
                                [(ngModel)]="socialData.isPoleEmploi" value=false  >

                            </div>
                        </div> -->

                        <div class="form-group row">
                            <div class="col-md-4 text-decoration-underline">
                                Inscrit à France Travail :
                            </div>
                            <div class="col-md-8">
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="isPoleEmploi"
                                        [(ngModel)]="socialData.isPoleEmploi" value='oui'>
                                    <label class="form-check-label" for="isPoleEmploi">oui</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input appAutoChange class="form-check-input" type="radio" name="isPoleEmploi"
                                        [(ngModel)]="socialData.isPoleEmploi" value='non'>
                                    <label class="form-check-label" for="isPoleEmploi">non</label>
                                </div>
                            </div>
                        </div>




                        <div *ngIf="socialData.isPoleEmploi=='oui'" class="form-group mt-3">
                            <label class="form-check-label" for="idPoleEmploi">Numéro identifiant France
                                Travail:</label>
                            <input appAutoChange class="form-check-input" type="text" class="form-control"
                                name="idPoleEmploi" [(ngModel)]="socialData.idPoleEmploi">
                            <!-- partie RSA -->
                            <div class="text-decoration-underline pt-3 pb-2">Etes-vous bénéficiaire des minima
                                sociaux
                                (RSA)</div>
                            <div class="d-flex align-items-center gap-3">
                                <div class="form-check">
                                    <label class="form-check-label">oui</label>
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="beneficiaireMinimaSociaux"
                                        [(ngModel)]="socialData.beneficiaireMinimaSociaux" value=true>
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label">non</label>
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="beneficiaireMinimaSociaux"
                                        [(ngModel)]="socialData.beneficiaireMinimaSociaux" value=false>
                                </div>
                            </div>
                            <!-- fin RSA -->
                        </div>


                        <!-- <div class="form-group"> -->
                        <!-- pour tout ce qu'il faut masquer si Inscrit à Pôle Emploi -->
                        <ng-container *ngIf="myForm.value.isPoleEmploi!=='oui'">
                            <hr>
                            <div class="text-decoration-underline pt-3 pb-2">Salarié en CDI ? </div>
                            <!-- <div class="d-flex  align-items-center gap-3">
                                <label for="cdiDuration" class="form-label">Depuis combien d'années ?</label>
                                <input appAutoChange type="number" class="form-control"
                                    [(ngModel)]="socialData.cdiDuration" name="cdiDuration">
                            </div> -->
                            <!-- envoyé par entreprise -->
                            <div class="fst-italic pt-3 pb-2">Vous êtes envoyé(e) par votre entreprise ?</div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <label class="form-check-label">oui</label>
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="sentCompanyEmployee" value=true
                                        [(ngModel)]="socialData.sentCompanyEmployee">
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label">non</label>
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="sentCompanyEmployee" value=false
                                        [(ngModel)]="socialData.sentCompanyEmployee">
                                </div>
                            </div>
                            <!-- fin -->
                            <!-- en recherche d'accompagnement qui disparait si envoyé par entreprise -->
                            <ng-container *ngIf="myForm.value.sentCompanyEmployee==='false'">
                                <div class="fst-italic pt-3 pb-2">Vous êtes en recherche d'accompagnement (vers un
                                    nouvel emploi ou une reconversion) ?</div>
                                <div class="d-flex  align-items-center gap-3">
                                    <div class="form-check">
                                        <label class="form-check-label">oui</label>
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="lookingForSupport" value=true
                                            [(ngModel)]="socialData.lookingForSupport">
                                    </div>
                                    <div class="form-check">
                                        <label class="form-check-label">non</label>
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="lookingForSupport" value=false
                                            [(ngModel)]="socialData.lookingForSupport">
                                    </div>
                                </div>
                            </ng-container>
                            <!-- fin -->
                            <!-- ancienneté qui sera maintenant conditionnée par le oui au bloc qui précède -->
                            <ng-container *ngIf="myForm.value.lookingForSupport==='true'">
                                <div class="fst-italic pt-3 pb-2">Pouvez-vous justifier d'une ancienneté
                                    de 24 mois en qualité de salarié, dont 12 mois dans la même entreprise (Financement
                                    salarié) ?</div>
                                <div class="d-flex  align-items-center gap-3">
                                    <div class="form-check">
                                        <label class="form-check-label">oui</label>
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="cdiRequiredDuration" value=true
                                            [(ngModel)]="socialData.cdiRequiredDuration">
                                    </div>
                                    <div class="form-check">
                                        <label class="form-check-label">non</label>
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="cdiRequiredDuration" value=false
                                            [(ngModel)]="socialData.cdiRequiredDuration">
                                    </div>
                                </div>
                            </ng-container>
                            <!-- fin ancienneté -->

                            <hr>

                            <div class="text-decoration-underline pt-3 pb-2">Salarié en CDD ?</div>
                            <div class="d-sm-flex align-items-center gap-3">
                                <div class="form-group">
                                    <label class="form-label" for="cddDuration">Durée du contrat (en mois) :</label>
                                    <input appAutoChange type="number" class="form-control" ngModel name="cddDuration">
                                </div>
                                <div class="form-group d-block d-md-inline">
                                    <label class="form-label">Date de fin du contrat :</label>
                                    <input appAutoChange type="date" class="form-control"
                                        [(ngModel)]="socialData.cddEndDate" name="cddEndDate">
                                </div>
                            </div>

                            <div class="fst-italic pt-3 pb-2">Pouvez-vous justifier de 24 mois
                                d'activité professionnelle dans les 5 dernières années, dont 4 mois en CDD au cours
                                de la dernière année ?</div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="historyFiveLastYears" value=true
                                        [(ngModel)]="socialData.historyFiveLastYears">
                                    <label class="form-check-label">oui</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio"
                                        name="historyFiveLastYears" value=false
                                        [(ngModel)]="socialData.historyFiveLastYears">
                                    <label class="form-check-label"> non</label>
                                </div>
                            </div>

                            <hr>

                            <div class="text-decoration-underline pt-3 pb-2">Êtes-vous intérimaire ?</div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="tempWorker"
                                        value=true [(ngModel)]="socialData.tempWorker">
                                    <label class="form-check-label">oui</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="tempWorker"
                                        value=false [(ngModel)]="socialData.tempWorker">
                                    <label class="form-check-label">non</label>
                                </div>
                            </div>
                            <!-- ngIf  interimaire -->
                            <!-- {{myForm.value.interimaire | json}} -->
                            <div *ngIf="myForm.value.tempWorker==='true'">

                                <div class="d-lg-flex gap-3 my-1">
                                    <div class="form-group">
                                        <label for="tempWorDuration" class="form-label pt-2">Depuis combien de temps (en
                                            mois) ?</label>
                                        <input appAutoChange type="number" class="form-control"
                                            name="tempWorkingDuration" [(ngModel)]="socialData.tempWorkingDuration">
                                    </div>
                                    <div class="form-group">
                                        <label for="tempWorkingEndDate" class="pt-2">Date de fin de contrat :</label>
                                        <input appAutoChange type="date" class="form-control" name="tempWorkingEndDate">
                                    </div>
                                </div>
                                <div class="pt-2">Pouvez-vous justifier d'une ancienneté de 1600 heures en tant
                                    qu'intérimaire au cours des 18 derniers mois, dont 600 dans une même
                                    entreprise du travail temporaire ?</div>
                                <div class="d-flex align-items-center gap-3">
                                    <div class="form-check">
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="tempWorkingRequiredDuration" value=true
                                            [(ngModel)]="socialData.tempWorkingRequiredDuration">
                                        <label class="form-check-label"> oui</label>
                                    </div>
                                    <div class="form-check">
                                        <input appAutoChange class="form-check-input" type="radio"
                                            name="tempWorkingRequiredDuration" value=false
                                            [(ngModel)]="socialData.tempWorkingRequiredDuration">
                                        <label class="form-check-label">non</label>
                                    </div>
                                </div>

                            </div>

                            <div class="text-decoration-underline pt-3 pb-2">Êtes-vous étudiant ?</div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="isStudent"
                                        value="oui" [(ngModel)]="socialData.isStudent">
                                    <label class="form-check-label">oui</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="isStudent"
                                        value="non" [(ngModel)]="socialData.isStudent"><label class="form-check-label">
                                        non</label>
                                </div>

                            </div>

                            <div class="text-decoration-underline pt-3 pb-2">Êtes-vous militaire ?</div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="isMilitary"
                                        value=true [(ngModel)]="socialData.isMilitary">
                                    <label class="form-check-label"> oui</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="isMilitary"
                                        value=false [(ngModel)]="socialData.isMilitary">
                                    <label class="form-check-label"> non</label>
                                </div>
                            </div>

                            <!-- SI militaire -->
                            <ng-container *ngIf="myForm.value.isMilitary==='true'">
                                <div class="form-group">
                                    <label for="militaryReconversionDate" class="pt-2">Date de début de votre
                                        reconversion
                                        :</label>
                                    <input appAutoChange type="date" class="form-control"
                                        name="militaryReconversionDate"
                                        [(ngModel)]="socialData.militaryReconversionDate">
                                </div>
                                <div class="form-group">
                                    <label class="text-decoration-underline pt-3 pb-2">Avez-vous fait part de votre
                                        projet à votre Conseiller Mobilité?</label>
                                    <div class="d-flex  align-items-center gap-3">
                                        <div class="form-check">
                                            <input appAutoChange class="form-check-input" type="radio"
                                                name="mobilityAdvisor" value=true
                                                [(ngModel)]="socialData.mobilityAdvisor"><label
                                                class="form-check-label">
                                                oui</label>
                                        </div>
                                        <div class="form-check">
                                            <input appAutoChange class="form-check-input" type="radio"
                                                name="mobilityAdvisor" value=false
                                                [(ngModel)]="socialData.mobilityAdvisor"><label
                                                class="form-check-label">
                                                non</label>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                            <!-- fin de SI militaire -->
                        </ng-container>

                        <!-- fin de Si PAS Inscrit à Pole Emploi -->
                        <hr>
                        <div class="form-group">
                            <!-- <div class="text-decoration-underline pt-3 pb-2">Possédez-vous la reconnaissance de la
                                qualité de travailleur handicapé (RQTH)
                            </div> -->
                            <div class="text-decoration-underline pt-3 pb-2">Avez-vous une reconnaissance administrative
                                du handicap ?
                            </div>
                            <div class="d-flex  align-items-center gap-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="handicap"
                                        [(ngModel)]="socialData.handicap" value=true><label class="form-check-label">
                                        oui</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="handicap"
                                        [(ngModel)]="socialData.handicap" value=false><label class="form-check-label">
                                        non</label>
                                </div>
                            </div>
                            <!-- c'est un boolean !!! -->
                            <!-- <div *ngIf="handicap === 'oui'"> -->
                            <div *ngIf="handicap">
                                <div class="text-decoration-underline pt-3 pb-2">Êtes-vous suivi par CAP EMPLOI ?
                                </div>
                                <div class="d-flex align-items-center gap-3">
                                    <div class="form-check">
                                        <input appAutoChange [(ngModel)]="socialData.capEmploi" class="form-check-input"
                                            type="radio" name="capEmploi" value=true><label class="form-check-label">
                                            oui</label>
                                    </div>
                                    <div class="form-check">
                                        <input appAutoChange class="form-check-input" type="radio" name="capEmploi"
                                            value=false [(ngModel)]="socialData.capEmploi"><label
                                            class="form-check-label"> non</label>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <label for="otherCurrentSituation" class="text-decoration-underline pt-3 pb-2">Êtes-vous
                                dans
                                une autre situation?</label>
                            <input appAutoChange type="text" class="form-control" name="otherCurrentSituation"
                                [(ngModel)]="socialData.otherCurrentSituation" placeholder="préciser...">
                        </div>



                        <!-- fin Historique Emploi -->
                        <hr>
                    </div>
                </div>
            </div>

            <!-------->
            <div class="card">
                <div class="card-header bg-primary">
                    <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseFive">
                        <span>Historique formation</span> <i class="bi bi-journal-bookmark-fill text-light fs-4"></i>
                    </a>
                </div>
                <div id="collapseFive" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <!-- début éléments de formulaire -->
                        <div class="form-group row">
                            <div class="col-md-4 text-decoration-underline pt-3 pb-2">Formation
                                initiale ?</div>
                            <div class="col-md-8">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="noDegree"
                                        [(ngModel)]="socialData.noDegree" value="noDegree">
                                    <label class="form-check-label" for="noDegree">Sans diplôme</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="cap"
                                        [(ngModel)]="socialData.cap" value="cap">
                                    <label class="form-check-label" for="cap">CAP ou autre reconnaissance du
                                        même
                                        niveau</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="bep"
                                        [(ngModel)]="socialData.bep" value="bep">
                                    <label class="form-check-label" for="bep">BEP ou reconnaissance du même
                                        niveau</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="bac"
                                        [(ngModel)]="socialData.bac" value="bacOuEquivalent">
                                    <label class="form-check-label" for="bac">BAC ou reconnaissance du même
                                        niveau</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="bacPlus2"
                                        [(ngModel)]="socialData.bacPlus2" value="bacPlus2">
                                    <label class="form-check-label" for="bacPlus2">BAC + 2</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="bacPlus3"
                                        [(ngModel)]="socialData.bacPlus3" value="bacPlus3">
                                    <label class="form-check-label" for="bacPlus3">BAC + 3</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="radio" name="higherEducation"
                                        id="higherEducation" [(ngModel)]="socialData.higherEducation"
                                        value="higherEducation">
                                    <label class="form-check-label" for="higherEducation">Formation supérieure à
                                        BAC + 3</label>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 col-form-label text-right mt-3" for="mainSector">Principale
                                        filière ?</label>
                                    <input appAutoChange type="text" class="form-control" name="mainSector"
                                        [(ngModel)]="socialData.mainSector"
                                        placeholder="BTP, santé, métallurgie, transport...">
                                </div>
                            </div>

                        </div>
                        <hr>
                        <div class="form-group row align-items-center">
                            <label for="continuingEducation" class="col-md-4 text-decoration-underline pt-3 pb-2">
                                Formation continue ?</label>
                            <div class="col-md-8">
                                <input appAutoChange class="form-control" type="text" name="continuingEducation"
                                    [(ngModel)]="socialData.continuingEducation"
                                    placeholder="A renseigner si formation continue">
                            </div>
                        </div>
                        <hr>
                        <!-- date de fin d'étude -->
                        <div class="form-group row align-items-center">
                            <label for="endingDateEducation" class="col-md-4 text-decoration-underline pt-3 pb-2">
                                Date de fin d'étude ?</label>
                            <div class="col-md-8">
                                <input appAutoChange class="form-control" type="date" name="endingDateEducation"
                                    [(ngModel)]="socialData.endingDateEducation">
                            </div>
                        </div>
                        <!-- fin -->

                        <hr>
                        <div class="text-decoration-underline pt-3 pb-2">Avez-vous des demandes de financement pour une
                            formation en cours?</div>
                        <!-- <div class="form-group row"> -->

                        <div class="d-flex  align-items-center gap-3">
                            <div class="form-check">
                                <label class="form-check-label">oui</label>
                                <input appAutoChange class="form-check-input" type="radio" name="requestFinancing"
                                    [value]=true [(ngModel)]="requestFinancing">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">non</label>
                                <input appAutoChange class="form-check-input" type="radio" name="requestFinancing"
                                    [value]=false [(ngModel)]="requestFinancing">
                            </div>
                        </div>

                        <div *ngIf="requestFinancing!== undefined && requestFinancing">
                            <div class="text-decoration-underline pt-3 pb-2">Choisissez le type de financement :</div>
                            <!-- on reprend tout -->
                            <div class="form-check">
                                <label class="form-check-label">CPF (<a
                                        href="https://www.moncompteformation.gouv.fr/espace-prive/html/#/"
                                        target="_blank" rel="noopener noreferrer">Compte Personnel de
                                        Formation</a>)</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="financementCPF"
                                    value="CPF" ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">Projet de transition professionnelle</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="financementPTP"
                                    value="PTP" ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">Agefiph</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="financementAgefiph"
                                    value="Agefiph" ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="financementAutre">Autre</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="financementAutre"
                                    value="autre" ngModel>
                            </div>
                            <input appAutoChange class="form-control mt-1" type="text" name="financementDetails" ngModel
                                placeholder="Préciser...">

                            <label class="text-decoration-underline pt-3 pb-2" for="formation">Pour quelle formation ?
                            </label>
                            <input appAutoChange class="form-control" type="text" name="formation" ngModel>
                        </div>
                        <div class="text-decoration-underline pt-3 pb-2">Avez-vous des droits CPF (<a
                                href="https://www.moncompteformation.gouv.fr/espace-prive/html/#/" target="_blank"
                                rel="noopener noreferrer">Compte Personnel de Formation</a>) ?</div>
                        <div class="d-flex  align-items-center gap-3">
                            <div class="form-check">
                                <input appAutoChange class="form-check-input" type="radio" name="droitsCPF" value="oui"
                                    ngModel>
                                <label class="form-check-label"> oui </label>
                            </div>
                            <div class="form-check">
                                <input appAutoChange class="form-check-input" type="radio" name="droitsCPF" value="non"
                                    ngModel>
                                <label class="form-check-label"> non </label>
                            </div>
                        </div>
                        <div class="text-decoration-underline pt-3 pb-2">Avez-vous créé votre COMPTE CPF ?</div>
                        <div class="d-flex  align-items-center gap-3">
                            <div class="form-check">
                                <input appAutoChange class="form-check-input" type="radio" name="compteCPF" value="oui"
                                    ngModel>
                                <label class="form-check-label"> oui</label>
                            </div>
                            <div class="form-check">
                                <input appAutoChange class="form-check-input" type="radio" name="compteCPF" value="non"
                                    ngModel>
                                <label class="form-check-label"> non </label>
                            </div>
                        </div>
                        <!-- fin éléments de formulaire -->
                    </div>
                </div>
            </div>

            <!-------------->
            <!-- si financement salarié ET envoyé par entreprise on retire -->
            <div class="card"
                *ngIf="myForm.value.sentCompanyEmployee=== undefined || myForm.value.sentCompanyEmployee==='false'">
                <div class="card-header bg-primary">
                    <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                        data-bs-toggle="collapse" href="#collapseSix">
                        <span>Notre accompagnement</span> <i class="bi bi-people-fill text-light fs-4"></i>
                    </a>
                </div>
                <div id="collapseSix" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <!-- début éléments de formularie -->
                        <div class="text-decoration-underline pt-3 pb-2">Comment avez-vous connu notre notre application
                            ?</div>
                        <div>
                            <div class="form-check">
                                <label class="form-check-label" for="reseauxSociaux">Réseaux
                                    Sociaux / Internet</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="reseauxSociaux"
                                    value="Réseaux Sociaux / Internet" [(ngModel)]="socialData.reseauxSociaux">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="conseillerPoleEmploi">Un conseiller France
                                    Travail</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="conseillerPoleEmploi" value="Un conseiller POLE EMPLOI"
                                    [(ngModel)]="socialData.conseillerPoleEmploi">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="conseillerMissionLocale">Un conseiller Mission
                                    Locale</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="conseillerMissionLocale" value="Un conseiller Mission Locale"
                                    [(ngModel)]="socialData.conseillerMissionLocale">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="conseillerCapEmploi">Un conseiller CAP
                                    EMPLOI</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="conseillerCapEmploi"
                                    value="Un conseiller CAP EMPLOI" [(ngModel)]="socialData.conseillerCapEmploi">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="conseillerCapEmploi">Un Conseiller en Evolution
                                    Professionnelle (CEP)</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="conseillerCep"
                                    value="Un Conseiller en Evolution Professionnelle (CEP)"
                                    [(ngModel)]="socialData.conseillerCep">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="conseillerRsa">Un Conseiller RSA du Conseil
                                    Départemental</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="conseillerRsa"
                                    value="Un Conseiller RSA du Conseil Départemental"
                                    [(ngModel)]="socialData.conseillerRsa">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="groupementEmployeurs">Un groupement d'employeurs
                                    (GE) ou groupement d'employeurs par l'insertion et la qualification (GEIQ)</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="groupementEmployeurs" value="GEIQ"
                                    [(ngModel)]="socialData.groupementEmployeurs">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="agenceTravailTemporaire">Une agence de travail
                                    temporaire</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="agenceTravailTemporaire" value="Une agence de travail temporaire"
                                    [(ngModel)]="socialData.agenceTravailTemporaire">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="entreprise"> Une entreprise (hors travail
                                    temporaire)</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="entreprise"
                                    value="Une entreprise (hors travail temporaire)"
                                    [(ngModel)]="socialData.entreprise">
                            </div>

                            <div class="form-check">
                                <label class="form-check-label" for="salonFormation">Sur
                                    un salon, forum de l'emploi et/ou de la formation</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="salonFormation"
                                    value="Sur un salon, forum de l'emploi et/ou de la formation"
                                    [(ngModel)]="socialData.salonFormation">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="informationCollective">Lors d'une information
                                    collective</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="informationCollective" value="Lors d'une information collective"
                                    [(ngModel)]="socialData.salonFormation">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="autre">Autre</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="other" value="other"
                                    [(ngModel)]="socialData.other">
                            </div>
                            <!-- <input appAutoChange class="form-control my-2" type="text" name="autrePrecisez" [(ngModel)]="socialData.autrePrecisez"
                                placeholder="Préciser"> -->
                        </div>
                        <hr>

                        <div class="text-decoration-underline pt-3 pb-2">Avez-vous déjà une promesse d'embauche, après
                            la formation ?</div>
                        <!-- <div class="form-group"> -->
                        <div class="d-flex align-items-center gap-3">
                            <div class="form-check">
                                <label class="form-check-label">oui</label>
                                <!-- c'est un boolean !!! -->
                                <!-- <input appAutoChange class="form-check-input" type="radio" name="employmentPromise" value="oui"
                                    [(ngModel)]="employmentPromise"> -->
                                <input appAutoChange class="form-check-input" type="radio" name="employmentPromise"
                                    [value]=true [(ngModel)]="employmentPromise">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">non</label>
                                <input appAutoChange class="form-check-input" type="radio" name="employmentPromise"
                                    [value]=false [(ngModel)]="employmentPromise">
                            </div>
                        </div>

                        <!-- pour toute la partie subordonnée au oui -->
                        <!-- <ng-container *ngIf="employmentPromise === 'oui'"> -->
                        <!-- Promesse embauche {{employmentPromise}} -->
                        <div *ngIf="employmentPromise !== undefined && employmentPromise">

                            <div class="text-decoration-underline pt-3 pb-2">La durée du contrat de travail proposé
                                suite à la formation</div>
                            <div class="form-check">
                                <label class="form-check-label" for="cddProposalDuration">CDD de moins de 6 mois</label>
                                <input appAutoChange class="form-check-input" type="radio" name="cddProposalDuration"
                                    value="CDD de moins de 6 mois" [(ngModel)]="socialData.cddProposalDuration">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="cddProposalDuration">CDD compris entre 6 et 12
                                    mois</label>
                                <input appAutoChange class="form-check-input" type="radio" name="cddProposalDuration"
                                    value="CDD compris entre 6 et 12 mois" [(ngModel)]="socialData.cddProposalDuration">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="cddProposalDuration">CDD de 12 mois</label>
                                <input appAutoChange class="form-check-input" type="radio" name="cddProposalDuration"
                                    value="CDD de 12 mois" [(ngModel)]="socialData.cddProposalDuration">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="cddProposalDuration">CDD de plus de 12 mois</label>
                                <input appAutoChange class="form-check-input" type="radio" name="cddProposalDuration"
                                    value="CDD de plus de 12 mois" [(ngModel)]="socialData.cddProposalDuration">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="cddProposalDuration">CDI</label>
                                <input appAutoChange class="form-check-input" type="radio" name="cddProposalDuration"
                                    value="CDI" [(ngModel)]="socialData.cddProposalDuration">
                            </div>

                            <!-- financement -->
                            <div class="text-decoration-underline pt-3 pb-2">Connaissez-vous le financement de cette
                                formation ? </div>
                            <div>
                                <div class="form-check">
                                    <label class="form-check-label" for="trainingFinancingProposal1"> Pôle Emploi (POEI,
                                        AFPR…)</label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="trainingFinancingProposal1" value="Pôle Emploi (POEI, AFPR…)"
                                        [(ngModel)]="socialData.trainingFinancingProposal1">
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="trainingFinancingProposal2"> Contrat de
                                        professionnalisation </label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="trainingFinancingProposal2" value="Contrat de professionnalisation"
                                        [(ngModel)]="socialData.trainingFinancingProposal2">
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="trainingFinancingProposal3"> Contrat
                                        d'apprentissage
                                    </label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="trainingFinancingProposal3" value="Contrat d'apprentissage"
                                        [(ngModel)]="socialData.trainingFinancingProposal3">
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="trainingFinancingProposal4"> Agefiph </label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="trainingFinancingProposal4" value="Agefiph"
                                        [(ngModel)]="socialData.trainingFinancingProposal4">
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="trainingFinancingOtherProposal"> Autre</label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="trainingFinancingOtherProposal"
                                        [(ngModel)]="socialData.trainingFinancingOtherProposal" value="other">
                                </div>
                            </div>
                            <!-- fin financement -->
                        </div>

                        <!-- vous recherchez --->
                        <!-- <div *ngIf="employmentPromise === false" > -->
                        <div *ngIf="employmentPromise !== undefined && !employmentPromise">
                            <div class="text-decoration-underline pt-3 pb-2">Vous recherchez ?</div>
                            <div class="form-check">
                                <label class="form-check-label" for="searchCdi">CDI</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="searchCdi" ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="searchCDD">CDD</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="searchPartTime"
                                    ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="searchPartTime">Travail
                                    Temporaire</label>
                                <input appAutoChange class="form-check-input" type="checkbox" name="searchPartTime"
                                    ngModel>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label" for="searchApprenticeship">Alternance (contrat
                                    d'apprentissage / de professionnalisation)</label>
                                <input appAutoChange class="form-check-input" type="checkbox"
                                    name="searchApprenticeship" ngModel>
                            </div>

                            <!-- <label class="text-decoration-underline pt-3 pb-2 ">Vous recherchez un emploi à :</label> -->
                            <div class="d-flex align-items-center gap-5 mt-3">
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox" name="miTemps"
                                        value="Mi-temps" ngModel>
                                    <label class="form-check-label" for="miTemps">Du Mi-temps</label>
                                </div>
                                <div class="form-check">
                                    <input appAutoChange class="form-check-input" type="checkbox" name="pleinTemps"
                                        value="Plein-temps" ngModel>
                                    <label class="form-check-label" for="miTemps">Du Plein-temps</label>
                                </div>
                            </div>
                            <div>
                                <div class="text-decoration-underline pt-3 pb-2">Vous êtes prêts à travailler:
                                </div>

                                <div class="form-check">
                                    <label class="form-check-label" for="travailDeJour">En journée</label>
                                    <input appAutoChange class="form-check-input" type="checkbox" name="travailDeJour"
                                        value="travailDeJour" ngModel>
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="travailDeJour">De nuit</label>
                                    <input appAutoChange class="form-check-input" type="checkbox" name="travailDeNuit"
                                        value="travailDeNuit" ngModel>
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="travailHorairesDecales">En horaires décalés
                                        (2x7 ou 2x8)</label>
                                    <input appAutoChange class="form-check-input" type="checkbox"
                                        name="travailHorairesDecales" value="travailHorairesDecales" ngModel>
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label" for="travailHorairesDecales">Le
                                        Week-End</label>
                                    <input appAutoChange class="form-check-input" type="checkbox" name="travailWeekEnd"
                                        value="travailWeekEnd" ngModel>
                                </div>
                            </div>


                            <div class="text-decoration-underline pt-3 pb-2">Etes-vous prêt à travailler en
                                extérieur ?
                            </div>
                            <div class="d-flex align-items-center gap-5">
                                <div class="form-check">
                                    <label class="form-check-label">oui</label>
                                    <input appAutoChange class="form-check-input" type="radio" name="travailExterieur"
                                        value="oui" ngModel>
                                </div>
                                <div class="form-check">
                                    <label class="form-check-label">non</label>
                                    <input appAutoChange class="form-check-input" type="radio" name="travailExterieur"
                                        value="non" ngModel>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- fin éléments de formulaire -->
                </div>
            </div>
        </div>
        <!----------------->

        <!-- si salarié CDI ET envoyé par entreprise on retire -->
        <!-- <div class="card" *ngIf="myForm.value.cdiRequiredDuration==='false'"> -->
        <div class="card"
            *ngIf="myForm.value.sentCompanyEmployee=== undefined || myForm.value.sentCompanyEmployee==='false'">
            <div class="card-header bg-primary">
                <a class="collapsed btn text-light text-capitalize d-flex justify-content-between align-items-center"
                    data-bs-toggle="collapse" href="#collapseSeven">
                    <span>Mobilité</span> <i class="bi bi-geo-alt-fill text-light fs-4"></i>
                </a>
            </div>
            <div id="collapseSeven" class="collapse" data-bs-parent="#accordion">
                <div class="card-body">

                    <!-- début éléments de formulaire -->
                    <div class="text-decoration-underline pt-3 pb-2">Mobilité: possédez-vous un moyen de transport ?
                    </div>
                    <div class="d-flex align-items-center gap-5">
                        <div class="form-check">
                            <label class="form-check-label">oui</label>
                            <input appAutoChange class="form-check-input" type="radio" name="hasTransportationMean"
                                value=true [(ngModel)]="socialData.hasTransportationMean">
                        </div>
                        <div class="form-check">
                            <label class="form-check-label">non</label>
                            <!-- <input appAutoChange class="form-check-input" type="radio" name="hasTransportationMean" value="non" -->
                            <input appAutoChange class="form-check-input" type="radio" name="hasTransportationMean"
                                value=false [(ngModel)]="socialData.hasTransportationMean">
                        </div>
                    </div>
                    <!-- C'est un boolean !!! -->
                    <!-- <div *ngIf="hasTransportationMean === 'oui'" class="pt-2"> -->
                    <div *ngIf="myForm.value.hasTransportationMean==='true'" class="pt-2">
                        <div class="pt-2">Merci de préciser</div>
                        <div class="form-check">
                            <input appAutoChange class="form-check-input" type="radio" name="voiture" value=true
                                [(ngModel)]="socialData.voiture">
                            <label class="form-check-label">Voiture</label>
                        </div>
                        <div class="form-check">
                            <input appAutoChange class="form-check-input" type="radio" name="moto" value=true
                                [(ngModel)]="socialData.moto">
                            <label class="form-check-label">Moto</label>
                        </div>
                        <div class="form-check">
                            <input appAutoChange class="form-check-input" type="radio" name="scooter" value=true
                                [(ngModel)]="socialData.scooter">
                            <label class="form-check-label">Scooter</label>
                        </div>
                        <div class="form-check">
                            <input appAutoChange class="form-check-input" type="radio" name="velo" value=true
                                [(ngModel)]="socialData.velo">
                            <label class="form-check-label">Vélo</label>
                        </div>
                    </div>
                    <!-- </div> -->


                    <div class="text-decoration-underline pt-3 pb-2">Quelle est votre mobilité pour aller travailler
                        ?</div>
                    <div class="form-check">
                        <input appAutoChange class="form-check-input" type="radio" name="mobility" value="10km"
                            [(ngModel)]="socialData.mobility">
                        <label class="form-check-label"> à moins de 10
                            kms de votre domicile</label>
                    </div>
                    <div class="form-check">
                        <input appAutoChange class="form-check-input" type="radio" name="mobility" value="20km"
                            [(ngModel)]="socialData.mobility">
                        <label class="form-check-label"> à moins de 20
                            kms de votre domicile</label>
                    </div>
                    <div class="form-check">
                        <input appAutoChange class="form-check-input" type="radio" name="mobility" value="30km"
                            [(ngModel)]="socialData.mobility">
                        <label class="form-check-label"> à moins de 30
                            kms de votre domicile</label>
                    </div>
                    <div class="form-check">
                        <input appAutoChange class="form-check-input" type="radio" name="mobility" value="allFrance"
                            [(ngModel)]="socialData.mobility">
                        <label class="form-check-label"> sur toute la france</label>
                    </div>

                    <div>
                    </div>

                    <!-- fin éléments de formulaire -->

                </div>
            </div>
        </div>

        <button class="btn btn-primary mt-5" type="submit">Valider et soumettre</button>
    </form>

</div>