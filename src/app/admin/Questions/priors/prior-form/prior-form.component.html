<div class="container py-5">


    <app-question-details></app-question-details>

    <h3>Formulaire de saisie des questions préalables</h3>

    <!-- pour les messages de retour/validation des champs du formulaire ou form validation, on utilisera BOOTSTRAP plutôt que des directives structurelles -->
    <form class="form" #f="ngForm" class="was-validated" (submit)="submitForm(f)">
        <select class="form-select" name="sigle" id="sigle" ngModel>
            <option value>Selectionner le métier</option>
            <option value="prepa_cdes" >PREPA CDES</option>
            <option value="poser_ite" >POSEUR ITE</option>
            <option value="macon_vrd" >MACON VRD</option>
            <option value="cl_vul" >CLVUL</option>
        </select>

        <label for="question" class="form-label mt-3">Question *</label>
        <input type="text" id="question" ngModel name="question" class="form-control"
            placeholder="Saisir la question..." required  #question="ngModel">
            <div class="valid-feedback" *ngIf="question.valid">Champ correctement renseigné</div>
            <div class="invalid-feedback" *ngIf="question.invalid">Merci de renseigner le libellé obligatoire de la question</div>
        <input type="file" accept="image,png,image/jpg" id="mediaQuestion" ngModel name="mediaQuestion" class="form-control" #mediaQuestion="ngModel"
            placeholder="Fichier média de votre choix" onchange="console.log(event.target.files)" (change)="detectFiles($event)">
        <!-- <label for="comment1" class="form-label mt-3">Commentaire </label>
        <textarea id="comment1" ngModel name="comment1" class="form-control" #comment1="ngModel"
            placeholder="Commentaire si besoin" cols="30" rows="5"></textarea> -->
        <hr>
        <p class="bg-light rounded p-3 fst-italic">Un minimum de 2 options de réponse* est nécessaire à la validation du
            formulaire. Vous pouvez, si vous le souhaitez, ajouter des fichiers média (image, vidéo...) ou commentaires spécifiques
            pour chaque élémenet de réponse </p>
        <label for="option1" class="form-label mt-3">Réponse 1 * </label>
        <input type="text" id="option1" ngModel name="option1" class="form-control" #option1="ngModel"
            placeholder="Option de réponse 1" required>
        <div class="valid-feedback" *ngIf="option1.valid">Champ correctement renseigné</div>
        <div class="invalid-feedback" *ngIf="option1.invalid">Merci de renseigner le champ réponse 1.</div>
        <label for="mediaOption1" class="form-label mt-3">Pièce jointe si besoin</label>
        <input type="file" id="mediaOption1" ngModel name="mediaOption1" class="form-control" #mediaOption1="ngModel"
            placeholder="Fichier média de votre choix">
        <label for="comment1" class="form-label mt-3">Commentaire</label>
        <textarea id="comment1" ngModel name="comment1" class="form-control" #comment1="ngModel"
            placeholder="Commentaire si besoin" cols="30" rows="5"></textarea>
        <!-- <div class="valid-feedback" *ngIf="comment1.valid">Champ correctement renseigné</div> -->
        <hr>
        <label for="option2" class="form-label mt-3">Réponse 2 * </label>
        <input type="text" id="option2" ngModel name="option2" class="form-control" #option2="ngModel"
            placeholder="Option de réponse 2" required>
        <div class="valid-feedback" *ngIf="option2.valid">Champ correctement renseigné</div>
        <div class="invalid-feedback" *ngIf="option2.invalid">Merci de renseigner le champ réponse 2.</div>
        <label for="mediaOption2" class="form-label mt-3">Pièce jointe si besoin</label>
        <input type="file" id="mediaOption2" ngModel name="mediaOption2" class="form-control" #mediaOption2="ngModel"
            placeholder="Fichier média de votre choix">
        <label for="comment2" class="form-label mt-3">Commentaire</label>
        <textarea id="comment2" ngModel name="comment2" class="form-control" #comment2="ngModel"
            placeholder="Commentaire si besoin" cols="30" rows="5"></textarea>
        <!-- <div class="valid-feedback" *ngIf="comment1.valid">Champ correctement renseigné</div> -->
        <hr>
        <label for="option2" class="form-label mt-3">Réponse 3 </label>
        <input type="text" id="option1" ngModel name="option3" class="form-control" #option3="ngModel"
            placeholder="Option de réponse 3">
        <div class="valid-feedback" *ngIf="option3.valid">Champ correctement renseigné</div>
        <!-- <div class="invalid-feedback" *ngIf="option3.invalid">Merci de renseigner le champ nom.</div> -->
        <label for="mediaOption3" class="form-label mt-3">Pièce jointe si besoin</label>
        <input type="file" id="mediaOption3" ngModel name="mediaOption3" class="form-control" #mediaOption3="ngModel"
            placeholder="Fichier média de votre choix">
        <label for="comment3" class="form-label mt-3">Commentaire</label>
        <textarea id="comment3" ngModel name="comment3" class="form-control" #comment3="ngModel"
            placeholder="Commentaire si besoin" cols="30" rows="5"></textarea>
        <!-- <div class="valid-feedback" *ngIf="comment1.valid">Champ correctement renseigné</div> -->
        <hr>
        <label for="option1" class="form-label mt-3">Réponse 4 </label>
        <input type="text" id="option4" ngModel name="option1" class="form-control" #option4="ngModel"
            placeholder="Option de réponse 4">
        <div class="valid-feedback" *ngIf="option4.valid">Champ correctement renseigné</div>
        <!-- <div class="invalid-feedback" *ngIf="option4.invalid">Merci de renseigner le champ nom.</div> -->
        <label for="mediaOption4" class="form-label mt-3">Pièce jointe si besoin</label>
        <input type="file" id="mediaOption4" ngModel name="mediaOption4" class="form-control" #mediaOption4="ngModel"
            placeholder="Fichier média de votre choix">
        <label for="comment1" class="form-label mt-3">Commentaire</label>
        <textarea id="comment4" ngModel name="comment4" class="form-control" #comment4="ngModel"
            placeholder="Commentaire si besoin" cols="30" rows="5"></textarea>
        <!-- <div class="valid-feedback" *ngIf="comment1.valid">Champ correctement renseigné</div> -->
        <hr>

        <!-- <textarea name="details" id="details" ngModel name="details" cols="100" rows="10" class="form-control mt-3"
            #details="ngModel" [ngClass]="{'.is-valid':details.value && details.touched}"
            placeholder="Commentaires optionnels...">Difficultés / Remaques...</textarea> -->
        <button type="submit" id="submit" class="btn btn-primary mt-3"
            [ngClass]="{'disabled':f.invalid}">Ajouter</button>
    </form>

</div>